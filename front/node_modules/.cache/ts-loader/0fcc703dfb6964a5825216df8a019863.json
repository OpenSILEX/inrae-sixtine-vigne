{"remainingRequest":"/home/charlero/GIT/GITLAB/opensilex-dev/inrae-sixtine/front/node_modules/thread-loader/dist/cjs.js!/home/charlero/GIT/GITLAB/opensilex-dev/inrae-sixtine/front/node_modules/babel-loader/lib/index.js!/home/charlero/GIT/GITLAB/opensilex-dev/inrae-sixtine/front/node_modules/ts-loader/index.js??ref--14-3!/home/charlero/GIT/GITLAB/opensilex-dev/inrae-sixtine/front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/charlero/GIT/GITLAB/opensilex-dev/inrae-sixtine/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/charlero/GIT/GITLAB/opensilex-dev/inrae-sixtine/front/src/components/layout/SixtineLoginComponent.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/charlero/GIT/GITLAB/opensilex-dev/inrae-sixtine/front/src/components/layout/SixtineLoginComponent.vue","mtime":1636714207126},{"path":"/home/charlero/GIT/GITLAB/opensilex-dev/inrae-sixtine/front/node_modules/cache-loader/dist/cjs.js","mtime":1635245896600},{"path":"/home/charlero/GIT/GITLAB/opensilex-dev/inrae-sixtine/front/node_modules/thread-loader/dist/cjs.js","mtime":1635245896598},{"path":"/home/charlero/GIT/GITLAB/opensilex-dev/inrae-sixtine/front/node_modules/babel-loader/lib/index.js","mtime":1635246894104},{"path":"/home/charlero/GIT/GITLAB/opensilex-dev/inrae-sixtine/front/node_modules/ts-loader/index.js","mtime":1635245901572},{"path":"/home/charlero/GIT/GITLAB/opensilex-dev/inrae-sixtine/front/node_modules/cache-loader/dist/cjs.js","mtime":1635245896600},{"path":"/home/charlero/GIT/GITLAB/opensilex-dev/inrae-sixtine/front/node_modules/vue-loader/lib/index.js","mtime":1635246896232},{"path":"/home/charlero/GIT/GITLAB/opensilex-dev/inrae-sixtine/front/node_modules/cache-loader/dist/cjs.js","mtime":1635245896600},{"path":"/home/charlero/GIT/GITLAB/opensilex-dev/inrae-sixtine/front/node_modules/thread-loader/dist/cjs.js","mtime":1635245896598},{"path":"/home/charlero/GIT/GITLAB/opensilex-dev/inrae-sixtine/front/node_modules/babel-loader/lib/index.js","mtime":1635246894104},{"path":"/home/charlero/GIT/GITLAB/opensilex-dev/inrae-sixtine/front/node_modules/ts-loader/index.js","mtime":1635245901572},{"path":"/home/charlero/GIT/GITLAB/opensilex-dev/inrae-sixtine/front/node_modules/cache-loader/dist/cjs.js","mtime":1635245896600},{"path":"/home/charlero/GIT/GITLAB/opensilex-dev/inrae-sixtine/front/node_modules/vue-loader/lib/index.js","mtime":1635246896232}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL2hvbWUvY2hhcmxlcm8vR0lUL0dJVExBQi9vcGVuc2lsZXgtZGV2L2lucmFlLXNpeHRpbmUvZnJvbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIi9ob21lL2NoYXJsZXJvL0dJVC9HSVRMQUIvb3BlbnNpbGV4LWRldi9pbnJhZS1zaXh0aW5lL2Zyb250L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjayI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiL2hvbWUvY2hhcmxlcm8vR0lUL0dJVExBQi9vcGVuc2lsZXgtZGV2L2lucmFlLXNpeHRpbmUvZnJvbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKaW1wb3J0IF9pbmhlcml0cyBmcm9tICIvaG9tZS9jaGFybGVyby9HSVQvR0lUTEFCL29wZW5zaWxleC1kZXYvaW5yYWUtc2l4dGluZS9mcm9udC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaW5oZXJpdHMiOwppbXBvcnQgX2NyZWF0ZVN1cGVyIGZyb20gIi9ob21lL2NoYXJsZXJvL0dJVC9HSVRMQUIvb3BlbnNpbGV4LWRldi9pbnJhZS1zaXh0aW5lL2Zyb250L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVTdXBlciI7CmltcG9ydCB7IF9fZGVjb3JhdGUgfSBmcm9tICJ0c2xpYiI7CmltcG9ydCB7IENvbXBvbmVudCwgUmVmIH0gZnJvbSAidnVlLXByb3BlcnR5LWRlY29yYXRvciI7CmltcG9ydCBWdWUgZnJvbSAidnVlIjsKaW1wb3J0IHsgVXNlciB9IGZyb20gIi4uLy4uLy4uLy4uLy4uL29wZW5zaWxleC1mcm9udC9mcm9udC9zcmMvbW9kZWxzL1VzZXIiOwoKdmFyIFNpeHRpbmVMb2dpbkNvbXBvbmVudCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1Z1ZSkgewogIF9pbmhlcml0cyhTaXh0aW5lTG9naW5Db21wb25lbnQsIF9WdWUpOwoKICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKFNpeHRpbmVMb2dpbkNvbXBvbmVudCk7CgogIGZ1bmN0aW9uIFNpeHRpbmVMb2dpbkNvbXBvbmVudCgpIHsKICAgIHZhciBfdGhpczsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU2l4dGluZUxvZ2luQ29tcG9uZW50KTsKCiAgICBfdGhpcyA9IF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgX3RoaXMudmVyc2lvbkluZm8gPSB7fTsKICAgIF90aGlzLmxvZ2luTWV0aG9kID0gInBhc3N3b3JkIjsKICAgIF90aGlzLmZvcmNlUmVmcmVzaCA9IGZhbHNlOwogICAgcmV0dXJuIF90aGlzOwogIH0KCiAgX2NyZWF0ZUNsYXNzKFNpeHRpbmVMb2dpbkNvbXBvbmVudCwgW3sKICAgIGtleTogImZvcm0iLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgZW1haWw6ICIiLAogICAgICAgIHBhc3N3b3JkOiAiIgogICAgICB9OwogICAgfQogIH0sIHsKICAgIGtleTogInVzZXIiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyOwogICAgfQogIH0sIHsKICAgIGtleTogImdldFBISVNNb2R1bGVWZXJzaW9uIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRQSElTTW9kdWxlVmVyc2lvbigpIHsKICAgICAgZm9yICh2YXIgbW9kdWxlX3ZlcnNpb25faW5kZXggaW4gdGhpcy52ZXJzaW9uSW5mby5tb2R1bGVzX3ZlcnNpb24pIHsKICAgICAgICB2YXIgbW9kdWxlID0gdGhpcy52ZXJzaW9uSW5mby5tb2R1bGVzX3ZlcnNpb25bbW9kdWxlX3ZlcnNpb25faW5kZXhdOwogICAgICAgIGNvbnNvbGUubG9nKG1vZHVsZSk7CgogICAgICAgIGlmIChtb2R1bGUubmFtZS5pbmNsdWRlcygiUGhpc1dzTW9kdWxlIikpIHsKICAgICAgICAgIHJldHVybiBtb2R1bGUudmVyc2lvbjsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiAnVmVyc2lvbiB1bmRlZmluZWQnOwogICAgfQogIH0sIHsKICAgIGtleTogImNvbm5lY3Rpb25PcHRpb25zIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICB2YXIgb3B0aW9ucyA9IFt7CiAgICAgICAgaWQ6ICJwYXNzd29yZCIsCiAgICAgICAgbGFiZWw6IHRoaXMuJHQoIkxvZ2luQ29tcG9uZW50LnBhc3N3b3JkQ29ubmVjdGlvblRpdGxlIikKICAgICAgfV07CiAgICAgIHZhciBvcGVuc2lsZXhDb25maWcgPSB0aGlzLiRvcGVuc2lsZXguZ2V0Q29uZmlnKCk7CgogICAgICBpZiAob3BlbnNpbGV4Q29uZmlnLm9wZW5JREF1dGhlbnRpY2F0aW9uVVJJKSB7CiAgICAgICAgb3B0aW9ucy5wdXNoKHsKICAgICAgICAgIGlkOiAib3BlbmlkIiwKICAgICAgICAgIGxhYmVsOiBvcGVuc2lsZXhDb25maWcub3BlbklEQ29ubmVjdGlvblRpdGxlCiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHJldHVybiBvcHRpb25zOwogICAgfQogIH0sIHsKICAgIGtleTogImNyZWF0ZWQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICAgIHRoaXMudmVyc2lvbkluZm8gPSB0aGlzLiRvcGVuc2lsZXgudmVyc2lvbkluZm87CiAgICB9CiAgfSwgewogICAga2V5OiAibG9naW5NZXRob2RDaGFuZ2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGxvZ2luTWV0aG9kQ2hhbmdlKGxvZ2luTWV0aG9kKSB7CiAgICAgIGNvbnNvbGUuZXJyb3IobG9naW5NZXRob2QpOwoKICAgICAgaWYgKGxvZ2luTWV0aG9kLmlkID09ICJvcGVuaWQiKSB7CiAgICAgICAgdmFyIG9wZW5zaWxleENvbmZpZyA9IHRoaXMuJG9wZW5zaWxleC5nZXRDb25maWcoKTsKICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IG9wZW5zaWxleENvbmZpZy5vcGVuSURBdXRoZW50aWNhdGlvblVSSTsKICAgICAgfSBlbHNlIGlmIChsb2dpbk1ldGhvZC5pZCA9PSAicGFzc3dvcmQiKSB7CiAgICAgICAgdGhpcy52YWxpZGF0b3JSZWYucmVzZXQoKTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogImlzUmVzZXRQYXNzd29yZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaXNSZXNldFBhc3N3b3JkKCkgewogICAgICB2YXIgb3BlbnNpbGV4Q29uZmlnID0gdGhpcy4kb3BlbnNpbGV4LmdldENvbmZpZygpOwogICAgICByZXR1cm4gb3BlbnNpbGV4Q29uZmlnLmFjdGl2YXRlUmVzZXRQYXNzd29yZDsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJsb2dvdXQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGxvZ291dCgpIHsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJsb2dvdXQiKTsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi8iKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJvbkxvZ2luIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBvbkxvZ2luKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHZhciB2YWxpZGF0b3JSZWYgPSB0aGlzLnZhbGlkYXRvclJlZjsKICAgICAgdmFsaWRhdG9yUmVmLnZhbGlkYXRlKCkudGhlbihmdW5jdGlvbiAoaXNWYWxpZCkgewogICAgICAgIGlmIChpc1ZhbGlkKSB7CiAgICAgICAgICBfdGhpczIuJG9wZW5zaWxleC5zaG93TG9hZGVyKCk7CgogICAgICAgICAgX3RoaXMyLiRvcGVuc2lsZXguZ2V0U2VydmljZSgib3BlbnNpbGV4LXNlY3VyaXR5LkF1dGhlbnRpY2F0aW9uU2VydmljZSIpLmF1dGhlbnRpY2F0ZSh7CiAgICAgICAgICAgIGlkZW50aWZpZXI6IF90aGlzMi5mb3JtLmVtYWlsLAogICAgICAgICAgICBwYXNzd29yZDogX3RoaXMyLmZvcm0ucGFzc3dvcmQKICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGh0dHApIHsKICAgICAgICAgICAgdmFyIHVzZXIgPSBVc2VyLmZyb21Ub2tlbihodHRwLnJlc3BvbnNlLnJlc3VsdC50b2tlbik7CgogICAgICAgICAgICBfdGhpczIuJG9wZW5zaWxleC5zZXRDb29raWVWYWx1ZSh1c2VyKTsKCiAgICAgICAgICAgIF90aGlzMi5mb3JjZVJlZnJlc2ggPSB0cnVlOwoKICAgICAgICAgICAgX3RoaXMyLiRzdG9yZS5jb21taXQoImxvZ2luIiwgdXNlcik7CgogICAgICAgICAgICBfdGhpczIuJHN0b3JlLmNvbW1pdCgicmVmcmVzaCIpOwogICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgIGlmIChlcnJvci5zdGF0dXMgPT0gNDAzKSB7CiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcigiSW52YWxpZCBjcmVkZW50aWFscyIsIGVycm9yKTsKCiAgICAgICAgICAgICAgX3RoaXMyLiRvcGVuc2lsZXguZXJyb3JIYW5kbGVyKGVycm9yLCBfdGhpczIuJHQoImNvbXBvbmVudC5sb2dpbi5lcnJvcnMuaW52YWxpZC1jcmVkZW50aWFscyIpKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBfdGhpczIuJG9wZW5zaWxleC5lcnJvckhhbmRsZXIoZXJyb3IpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBfdGhpczIuJG9wZW5zaWxleC5oaWRlTG9hZGVyKCk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH1dLCBbewogICAga2V5OiAiYXN5bmNJbml0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfYXN5bmNJbml0ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCRvcGVuc2lsZXgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiAkb3BlbnNpbGV4LmxvYWRTZXJ2aWNlKCJvcGVuc2lsZXgtc2VjdXJpdHkuQXV0aGVudGljYXRpb25TZXJ2aWNlIik7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBhc3luY0luaXQoX3gpIHsKICAgICAgICByZXR1cm4gX2FzeW5jSW5pdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gYXN5bmNJbml0OwogICAgfSgpCiAgfV0pOwoKICByZXR1cm4gU2l4dGluZUxvZ2luQ29tcG9uZW50Owp9KFZ1ZSk7CgpfX2RlY29yYXRlKFtSZWYoInZhbGlkYXRvclJlZiIpXSwgU2l4dGluZUxvZ2luQ29tcG9uZW50LnByb3RvdHlwZSwgInZhbGlkYXRvclJlZiIsIHZvaWQgMCk7CgpTaXh0aW5lTG9naW5Db21wb25lbnQgPSBfX2RlY29yYXRlKFtDb21wb25lbnRdLCBTaXh0aW5lTG9naW5Db21wb25lbnQpOwpleHBvcnQgZGVmYXVsdCBTaXh0aW5lTG9naW5Db21wb25lbnQ7"},{"version":3,"sources":["/home/charlero/GIT/GITLAB/opensilex-dev/inrae-sixtine/front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/charlero/GIT/GITLAB/opensilex-dev/inrae-sixtine/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/charlero/GIT/GITLAB/opensilex-dev/inrae-sixtine/front/src/components/layout/SixtineLoginComponent.vue?vue&type=script&lang=ts&"],"names":[],"mappings":"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","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Ref } from \"vue-property-decorator\";\nimport Vue from \"vue\";\nimport OpenSilexVuePlugin from \"../../../../../opensilex-front/front/src/models/OpenSilexVuePlugin\";\nimport { User } from \"../../../../../opensilex-front/front/src/models/User\";\n// @ts-ignore\nimport { TokenGetDTO, AuthenticationService } from \"opensilex-security/index\";\n// @ts-ignore\nimport HttpResponse, { OpenSilexResponse } from \"opensilex-security/HttpResponse\";\nimport { FrontConfigDTO } from \"../../../../../opensilex-front/front/src/lib\";\n// @ts-ignore\nimport { SystemService, versionInfoDTO } from \"opensilex-core/index\";\n\n@Component\nexport default class SixtineLoginComponent extends Vue { \n  service: SystemService;\n  versionInfo: versionInfoDTO = {};\n  $store: any;\n  $router: any;\n  $t: any;\n\n  get form() {\n    return {\n      email: \"\",\n      password: \"\"\n    };\n  }\n\n\n  get user() {\n    return this.$store.state.user;\n  }\n\n  getPHISModuleVersion(){\n    for(let module_version_index in this.versionInfo.modules_version){\n      let module = this.versionInfo.modules_version[module_version_index]\n\n      console.log(module)\n      if(module.name.includes(\"PhisWsModule\")){\n        return module.version;\n      }\n    }\n    return 'Version undefined'\n  }\n\n  loginMethod = \"password\";\n\n  get connectionOptions() {\n    let options = [\n      {\n        id: \"password\",\n        label: this.$t(\"LoginComponent.passwordConnectionTitle\")\n      }\n    ];\n\n    let opensilexConfig: FrontConfigDTO = this.$opensilex.getConfig();\n\n    if (opensilexConfig.openIDAuthenticationURI) {\n      options.push({\n        id: \"openid\",\n        label: opensilexConfig.openIDConnectionTitle\n      });\n    }\n\n    return options;\n  }\n\n  created() {\n    this.versionInfo = this.$opensilex.versionInfo;\n  }\n\n  loginMethodChange(loginMethod) {\n    console.error(loginMethod);\n    if (loginMethod.id == \"openid\") {\n      let opensilexConfig: FrontConfigDTO = this.$opensilex.getConfig();\n      window.location.href = opensilexConfig.openIDAuthenticationURI;\n    } else if (loginMethod.id == \"password\") {\n      this.validatorRef.reset();\n    }\n  }\n\n  isResetPassword(){\n    let opensilexConfig: FrontConfigDTO = this.$opensilex.getConfig();\n    return opensilexConfig.activateResetPassword;\n  }\n\n  $opensilex: OpenSilexVuePlugin;\n\n  static async asyncInit($opensilex: OpenSilexVuePlugin) {\n    await $opensilex.loadService(\"opensilex-security.AuthenticationService\");\n  }\n\n  logout() {\n    this.$store.commit(\"logout\");\n    this.$router.push(\"/\");\n  }\n\n  @Ref(\"validatorRef\") readonly validatorRef!: any;\n\n  forceRefresh = false;\n  onLogin() {\n    let validatorRef: any = this.validatorRef;\n    validatorRef.validate().then(isValid => {\n      if (isValid) {\n        this.$opensilex.showLoader();\n        this.$opensilex\n          .getService<AuthenticationService>(\n            \"opensilex-security.AuthenticationService\"\n          )\n          .authenticate({\n            identifier: this.form.email,\n            password: this.form.password\n          })\n          .then((http: HttpResponse<OpenSilexResponse<TokenGetDTO>>) => {\n            let user = User.fromToken(http.response.result.token);\n            this.$opensilex.setCookieValue(user);\n            this.forceRefresh = true;\n            this.$store.commit(\"login\", user);\n            this.$store.commit(\"refresh\");\n          })\n          .catch(error => {\n            if (error.status == 403) {\n              console.error(\"Invalid credentials\", error);\n              this.$opensilex.errorHandler(\n                error,\n                this.$t(\"component.login.errors.invalid-credentials\")\n              );\n            } else {\n              this.$opensilex.errorHandler(error);\n            }\n            this.$opensilex.hideLoader();\n          });\n      }\n    });\n  }\n}\n"],"sourceRoot":""}]}