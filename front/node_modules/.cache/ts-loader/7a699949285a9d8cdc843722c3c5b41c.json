{"remainingRequest":"/home/charlero/GIT/GITLAB/opensilex-dev/inrae-sixtine/front/node_modules/thread-loader/dist/cjs.js!/home/charlero/GIT/GITLAB/opensilex-dev/inrae-sixtine/front/node_modules/babel-loader/lib/index.js!/home/charlero/GIT/GITLAB/opensilex-dev/inrae-sixtine/front/node_modules/ts-loader/index.js??ref--14-3!/home/charlero/GIT/GITLAB/opensilex-dev/inrae-sixtine/front/node_modules/eslint-loader/index.js??ref--13-0!/home/charlero/GIT/GITLAB/opensilex-dev/opensilex-front/front/src/models/User.ts","dependencies":[{"path":"/home/charlero/GIT/GITLAB/opensilex-dev/opensilex-front/front/src/models/User.ts","mtime":1611849054666},{"path":"/home/charlero/GIT/GITLAB/opensilex-dev/inrae-sixtine/front/node_modules/cache-loader/dist/cjs.js","mtime":1635245896600},{"path":"/home/charlero/GIT/GITLAB/opensilex-dev/inrae-sixtine/front/node_modules/thread-loader/dist/cjs.js","mtime":1635245896598},{"path":"/home/charlero/GIT/GITLAB/opensilex-dev/inrae-sixtine/front/node_modules/babel-loader/lib/index.js","mtime":1635246894104},{"path":"/home/charlero/GIT/GITLAB/opensilex-dev/inrae-sixtine/front/node_modules/ts-loader/index.js","mtime":1635245901572},{"path":"/home/charlero/GIT/GITLAB/opensilex-dev/inrae-sixtine/front/node_modules/eslint-loader/index.js","mtime":1635245901132}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YuanMiOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIi9ob21lL2NoYXJsZXJvL0dJVC9HSVRMQUIvb3BlbnNpbGV4LWRldi9pbnJhZS1zaXh0aW5lL2Zyb250L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjayI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiL2hvbWUvY2hhcmxlcm8vR0lUL0dJVExBQi9vcGVuc2lsZXgtZGV2L2lucmFlLXNpeHRpbmUvZnJvbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKaW1wb3J0IGp3dF9kZWNvZGUgZnJvbSAiand0LWRlY29kZSI7CmV4cG9ydCB2YXIgVXNlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gVXNlcigpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBVc2VyKTsKCiAgICB0aGlzLmZpcnN0TmFtZSA9ICJKZWFuIjsKICAgIHRoaXMubGFzdE5hbWUgPSAiRHVwb250IjsKICAgIHRoaXMuZW1haWwgPSAiamVhbi5kdXBvbnRAb3BlbnNpbGV4Lm9yZyI7CiAgICB0aGlzLmFkbWluID0gZmFsc2U7CiAgICB0aGlzLmxvY2FsZSA9ICJlbiI7CiAgICB0aGlzLmNyZWRlbnRpYWxzID0gW107CiAgICB0aGlzLmV4cGlyZSA9IDA7CiAgICB0aGlzLnRva2VuID0gIiI7CiAgICB0aGlzLnRva2VuRGF0YSA9IHt9OwogICAgdGhpcy5sb2dnZWRJbiA9IGZhbHNlOwogIH0KCiAgX2NyZWF0ZUNsYXNzKFVzZXIsIFt7CiAgICBrZXk6ICJnZXRFeHBpcmF0aW9uIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRFeHBpcmF0aW9uKCkgewogICAgICByZXR1cm4gdGhpcy5leHBpcmU7CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0RXhwaXJhdGlvbk1zIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRFeHBpcmF0aW9uTXMoKSB7CiAgICAgIHJldHVybiB0aGlzLmV4cGlyZSAqIDEwMDAgLSBEYXRlLm5vdygpOwogICAgfQogIH0sIHsKICAgIGtleTogImdldEluYWN0aXZpdHlSZW5ld0RlbGF5TXMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldEluYWN0aXZpdHlSZW5ld0RlbGF5TXMoKSB7CiAgICAgIHZhciBleGlwcmVBZnRlciA9IHRoaXMuZ2V0RXhwaXJhdGlvbk1zKCk7CiAgICAgIHJldHVybiBNYXRoLmZsb29yKDIgLyAzICogZXhpcHJlQWZ0ZXIpOwogICAgfQogIH0sIHsKICAgIGtleTogIm5lZWRSZW5ldyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gbmVlZFJlbmV3KCkgewogICAgICByZXR1cm4gdGhpcy5nZXRFeHBpcmF0aW9uTXMoKSA+IDAgJiYgdGhpcy5nZXRJbmFjdGl2aXR5UmVuZXdEZWxheU1zKCkgPD0gMDsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJnZXRUb2tlbiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VG9rZW4oKSB7CiAgICAgIHJldHVybiB0aGlzLnRva2VuOwogICAgfQogIH0sIHsKICAgIGtleTogImdldEF1dGhvcml6YXRpb25IZWFkZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldEF1dGhvcml6YXRpb25IZWFkZXIoKSB7CiAgICAgIHJldHVybiAiQmVhcmVyICIgKyB0aGlzLmdldFRva2VuKCk7CiAgICB9CiAgfSwgewogICAga2V5OiAic2V0VG9rZW4iLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNldFRva2VuKHRva2VuKSB7CiAgICAgIHRoaXMudG9rZW4gPSB0b2tlbjsKICAgICAgdGhpcy50b2tlbkRhdGEgPSBqd3RfZGVjb2RlKHRva2VuKTsKICAgICAgdGhpcy5maXJzdE5hbWUgPSB0aGlzLmdldFRva2VuRGF0YShVc2VyLkNMQUlNX0ZJUlNUX05BTUUpOwogICAgICB0aGlzLmxhc3ROYW1lID0gdGhpcy5nZXRUb2tlbkRhdGEoVXNlci5DTEFJTV9MQVNUX05BTUUpOwogICAgICB0aGlzLmVtYWlsID0gdGhpcy5nZXRUb2tlbkRhdGEoVXNlci5DTEFJTV9FTUFJTCk7CiAgICAgIHRoaXMuYWRtaW4gPSB0aGlzLmdldFRva2VuRGF0YShVc2VyLkNMQUlNX0lTX0FETUlOKTsKICAgICAgdGhpcy5sb2NhbGUgPSB0aGlzLmdldFRva2VuRGF0YShVc2VyLkNMQUlNX0xPQ0FMRSk7CiAgICAgIHRoaXMuY3JlZGVudGlhbHMgPSB0aGlzLmdldFRva2VuRGF0YShVc2VyLkNMQUlNX0NSRURFTlRJQUxTX0xJU1QpOwogICAgICBjb25zb2xlLmRlYnVnKCJVc2VyIGNyZWRlbnRpYWxzOiIsIHRoaXMuY3JlZGVudGlhbHMpOwogICAgICB0aGlzLmxvZ2dlZEluID0gdHJ1ZTsKICAgICAgdGhpcy5leHBpcmUgPSBwYXJzZUludCh0aGlzLmdldFRva2VuRGF0YShVc2VyLkNMQUlNX0VYUElSRSkpOwogICAgfQogIH0sIHsKICAgIGtleTogImdldEZpcnN0TmFtZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Rmlyc3ROYW1lKCkgewogICAgICByZXR1cm4gdGhpcy5maXJzdE5hbWU7CiAgICB9CiAgfSwgewogICAga2V5OiAic2V0Rmlyc3ROYW1lIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRGaXJzdE5hbWUoZmlyc3ROYW1lKSB7CiAgICAgIHRoaXMuZmlyc3ROYW1lID0gZmlyc3ROYW1lOwogICAgfQogIH0sIHsKICAgIGtleTogImdldExhc3ROYW1lIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRMYXN0TmFtZSgpIHsKICAgICAgcmV0dXJuIHRoaXMubGFzdE5hbWU7CiAgICB9CiAgfSwgewogICAga2V5OiAic2V0TGFzdE5hbWUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNldExhc3ROYW1lKGxhc3ROYW1lKSB7CiAgICAgIHRoaXMubGFzdE5hbWUgPSBsYXN0TmFtZTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJnZXRFbWFpbCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RW1haWwoKSB7CiAgICAgIHJldHVybiB0aGlzLmVtYWlsOwogICAgfQogIH0sIHsKICAgIGtleTogInNldEVtYWlsIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRFbWFpbChlbWFpbCkgewogICAgICB0aGlzLmVtYWlsID0gZW1haWw7CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0TG9jYWxlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRMb2NhbGUoKSB7CiAgICAgIHJldHVybiB0aGlzLmxvY2FsZTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzZXRMb2NhbGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNldExvY2FsZShsb2NhbGUpIHsKICAgICAgdGhpcy5sb2NhbGUgPSBsb2NhbGU7CiAgICB9CiAgfSwgewogICAga2V5OiAiaXNBZG1pbiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaXNBZG1pbigpIHsKICAgICAgcmV0dXJuIHRoaXMuYWRtaW47CiAgICB9CiAgfSwgewogICAga2V5OiAic2V0QWRtaW4iLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNldEFkbWluKGFkbWluKSB7CiAgICAgIHRoaXMuYWRtaW4gPSBhZG1pbjsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJpc0xvZ2dlZEluIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBpc0xvZ2dlZEluKCkgewogICAgICByZXR1cm4gdGhpcy5sb2dnZWRJbjsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJoYXNDcmVkZW50aWFsIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBoYXNDcmVkZW50aWFsKGNyZWRlbnRpYWwpIHsKICAgICAgaWYgKHRoaXMuaXNBZG1pbigpKSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KCiAgICAgIHJldHVybiB0aGlzLmNyZWRlbnRpYWxzLmluZGV4T2YoY3JlZGVudGlhbCkgPj0gMDsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJoYXNBbGxDcmVkZW50aWFscyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaGFzQWxsQ3JlZGVudGlhbHMoY3JlZGVudGlhbHMpIHsKICAgICAgaWYgKHRoaXMuaXNBZG1pbigpKSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KCiAgICAgIGZvciAodmFyIGkgaW4gY3JlZGVudGlhbHMpIHsKICAgICAgICB2YXIgY3JlZGVudGlhbCA9IGNyZWRlbnRpYWxzW2ldOwoKICAgICAgICBpZiAodGhpcy5jcmVkZW50aWFscy5pbmRleE9mKGNyZWRlbnRpYWwpIDwgMCkgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgfSwgewogICAga2V5OiAiaGFzT25lQ3JlZGVudGlhbCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaGFzT25lQ3JlZGVudGlhbChjcmVkZW50aWFscykgewogICAgICBpZiAodGhpcy5pc0FkbWluKCkpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQoKICAgICAgZm9yICh2YXIgaSBpbiBjcmVkZW50aWFscykgewogICAgICAgIHZhciBjcmVkZW50aWFsID0gY3JlZGVudGlhbHNbaV07CgogICAgICAgIGlmICh0aGlzLmNyZWRlbnRpYWxzLmluZGV4T2YoY3JlZGVudGlhbCkgPj0gMCkgewogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0VG9rZW5EYXRhIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRUb2tlbkRhdGEoa2V5KSB7CiAgICAgIGNvbnNvbGUuZGVidWcoIkdldCB0b2tlbiBkYXRhIiwga2V5LCB0aGlzLnRva2VuRGF0YVtrZXldLCB0aGlzLnRva2VuRGF0YSk7CiAgICAgIHJldHVybiB0aGlzLnRva2VuRGF0YVtrZXldOwogICAgfQogIH1dLCBbewogICAga2V5OiAiZnJvbVRva2VuIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBmcm9tVG9rZW4odG9rZW4pIHsKICAgICAgdHJ5IHsKICAgICAgICB2YXIgdXNlciA9IG5ldyBVc2VyKCk7CiAgICAgICAgdXNlci5zZXRUb2tlbih0b2tlbik7CiAgICAgICAgcmV0dXJuIHVzZXI7CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcigiSW52YWxpZCB0b2tlbiIsIHRva2VuKTsKICAgICAgICB0aHJvdyBlcnJvcjsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogIkFOT05ZTU9VUyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gQU5PTllNT1VTKCkgewogICAgICBpZiAoVXNlci5hbm9ueW1vdXMgPT0gbnVsbCkgewogICAgICAgIHZhciBhbm9ueW1vdXMgPSBuZXcgVXNlcigpOwogICAgICAgIGFub255bW91cy5zZXRGaXJzdE5hbWUoIkFub255bW91cyIpOwogICAgICAgIGFub255bW91cy5zZXRMYXN0TmFtZSgiIik7CiAgICAgICAgYW5vbnltb3VzLnNldEVtYWlsKCJhbm9ueW1vdXNAb3BlbnNpbGV4Lm9yZyIpOwogICAgICAgIFVzZXIuYW5vbnltb3VzID0gYW5vbnltb3VzOwogICAgICB9CgogICAgICByZXR1cm4gVXNlci5hbm9ueW1vdXM7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gVXNlcjsKfSgpOwpVc2VyLkNMQUlNX0VYUElSRSA9ICJleHAiOwpVc2VyLkNMQUlNX0ZJUlNUX05BTUUgPSAiZ2l2ZW5fbmFtZSI7ClVzZXIuQ0xBSU1fTEFTVF9OQU1FID0gImZhbWlseV9uYW1lIjsKVXNlci5DTEFJTV9FTUFJTCA9ICJlbWFpbCI7ClVzZXIuQ0xBSU1fRlVMTF9OQU1FID0gIm5hbWUiOwpVc2VyLkNMQUlNX0xPQ0FMRSA9ICJsb2NhbGUiOwpVc2VyLkNMQUlNX0lTX0FETUlOID0gImlzX2FkbWluIjsKVXNlci5DTEFJTV9DUkVERU5USUFMU19MSVNUID0gImNyZWRlbnRpYWxzX2xpc3QiOw=="},{"version":3,"sources":["/home/charlero/GIT/GITLAB/opensilex-dev/inrae-sixtine/front/node_modules/eslint-loader/index.js??ref--13-0!/home/charlero/GIT/GITLAB/opensilex-dev/opensilex-front/front/src/models/User.ts"],"names":[],"mappings":"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","sourcesContent":["import jwt_decode from \"jwt-decode\";\n\nexport class User {\n    private firstName: string = \"Jean\";\n    private lastName: string = \"Dupont\";\n    private email: string = \"jean.dupont@opensilex.org\";\n    private admin: boolean = false;\n    private locale: string = \"en\"\n\n    private credentials: Array<string> = [];\n\n    private expire: number = 0;\n\n    private token: string = \"\";\n    private tokenData: any = {};\n    public loggedIn: boolean = false;\n\n    public static fromToken(token: string): User {\n        try {\n            let user = new User();\n            user.setToken(token);\n\n            return user;\n        } catch (error) {\n            console.error(\"Invalid token\", token);\n            throw error;\n        }\n    }\n\n    public static CLAIM_EXPIRE = \"exp\";\n    public static CLAIM_FIRST_NAME = \"given_name\";\n    public static CLAIM_LAST_NAME = \"family_name\";\n    public static CLAIM_EMAIL = \"email\";\n    public static CLAIM_FULL_NAME = \"name\";\n    public static CLAIM_LOCALE = \"locale\";\n    public static CLAIM_IS_ADMIN = \"is_admin\";\n    public static CLAIM_CREDENTIALS_LIST = \"credentials_list\";\n\n    private static anonymous: User;\n\n    public static ANONYMOUS(): User {\n        if (User.anonymous == null) {\n            let anonymous = new User();\n            anonymous.setFirstName(\"Anonymous\");\n            anonymous.setLastName(\"\");\n            anonymous.setEmail(\"anonymous@opensilex.org\");\n\n            User.anonymous = anonymous;\n        }\n\n        return User.anonymous;\n    }\n\n    public getExpiration() {\n        return this.expire;\n    }\n\n    public getExpirationMs() {\n        return (this.expire * 1000 - Date.now());\n    }\n\n    public getInactivityRenewDelayMs() {\n        let exipreAfter = this.getExpirationMs();\n        return Math.floor((2 / 3) * exipreAfter);\n    }\n\n    public needRenew() {\n        return this.getExpirationMs() > 0 && this.getInactivityRenewDelayMs() <= 0;\n    }\n\n    public getToken() {\n        return this.token;\n    }\n\n    public getAuthorizationHeader() {\n        return \"Bearer \" + this.getToken();\n    }\n\n\n    public setToken(token: string) {\n        this.token = token;\n        this.tokenData = jwt_decode(token);\n\n        this.firstName = this.getTokenData(User.CLAIM_FIRST_NAME);\n        this.lastName = this.getTokenData(User.CLAIM_LAST_NAME);\n        this.email = this.getTokenData(User.CLAIM_EMAIL);\n        this.admin = this.getTokenData(User.CLAIM_IS_ADMIN);\n        this.locale = this.getTokenData(User.CLAIM_LOCALE);\n        this.credentials = this.getTokenData(User.CLAIM_CREDENTIALS_LIST);\n        console.debug(\"User credentials:\", this.credentials);\n        this.loggedIn = true;\n        this.expire = parseInt(this.getTokenData(User.CLAIM_EXPIRE));\n    }\n\n    public getFirstName() {\n        return this.firstName;\n    }\n\n    public setFirstName(firstName: string) {\n        this.firstName = firstName;\n    }\n\n    public getLastName() {\n        return this.lastName;\n    }\n\n    public setLastName(lastName: string) {\n        this.lastName = lastName;\n    }\n\n    public getEmail() {\n        return this.email;\n    }\n\n    public setEmail(email: string) {\n        this.email = email;\n    }\n\n    public getLocale() {\n        return this.locale;\n    }\n\n    public setLocale(locale: string) {\n        this.locale = locale;\n    }\n\n    public isAdmin() {\n        return this.admin;\n    }\n\n    public setAdmin(admin: boolean) {\n        this.admin = admin;\n    }\n\n    public isLoggedIn() {\n        return this.loggedIn;\n    }\n\n    public hasCredential(credential): boolean {\n        if (this.isAdmin()) {\n            return true;\n        }\n\n        return (this.credentials.indexOf(credential) >= 0);\n    }\n\n    public hasAllCredentials(credentials): boolean {\n        if (this.isAdmin()) {\n            return true;\n        }\n\n        for (let i in credentials) {\n            let credential = credentials[i];\n            if (this.credentials.indexOf(credential) < 0) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    public hasOneCredential(credentials): boolean {\n        if (this.isAdmin()) {\n            return true;\n        }\n\n        for (let i in credentials) {\n            let credential = credentials[i];\n            if (this.credentials.indexOf(credential) >= 0) {\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    public getTokenData(key: string) {\n        console.debug(\"Get token data\", key, this.tokenData[key], this.tokenData);\n        return this.tokenData[key];\n    }\n}"],"sourceRoot":""}]}