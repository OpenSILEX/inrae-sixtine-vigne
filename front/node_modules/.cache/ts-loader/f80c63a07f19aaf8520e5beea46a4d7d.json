{"remainingRequest":"/home/charlero/GIT/GITLAB/opensilex-dev/inrae-sixtine/front/node_modules/thread-loader/dist/cjs.js!/home/charlero/GIT/GITLAB/opensilex-dev/inrae-sixtine/front/node_modules/babel-loader/lib/index.js!/home/charlero/GIT/GITLAB/opensilex-dev/inrae-sixtine/front/node_modules/ts-loader/index.js??ref--14-3!/home/charlero/GIT/GITLAB/opensilex-dev/inrae-sixtine/front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/charlero/GIT/GITLAB/opensilex-dev/inrae-sixtine/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/charlero/GIT/GITLAB/opensilex-dev/inrae-sixtine/front/src/components/layout/ResetPassword.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/charlero/GIT/GITLAB/opensilex-dev/inrae-sixtine/front/src/components/layout/ResetPassword.vue","mtime":1636714207126},{"path":"/home/charlero/GIT/GITLAB/opensilex-dev/inrae-sixtine/front/node_modules/cache-loader/dist/cjs.js","mtime":1635245896600},{"path":"/home/charlero/GIT/GITLAB/opensilex-dev/inrae-sixtine/front/node_modules/thread-loader/dist/cjs.js","mtime":1635245896598},{"path":"/home/charlero/GIT/GITLAB/opensilex-dev/inrae-sixtine/front/node_modules/babel-loader/lib/index.js","mtime":1635246894104},{"path":"/home/charlero/GIT/GITLAB/opensilex-dev/inrae-sixtine/front/node_modules/ts-loader/index.js","mtime":1635245901572},{"path":"/home/charlero/GIT/GITLAB/opensilex-dev/inrae-sixtine/front/node_modules/cache-loader/dist/cjs.js","mtime":1635245896600},{"path":"/home/charlero/GIT/GITLAB/opensilex-dev/inrae-sixtine/front/node_modules/vue-loader/lib/index.js","mtime":1635246896232},{"path":"/home/charlero/GIT/GITLAB/opensilex-dev/inrae-sixtine/front/node_modules/cache-loader/dist/cjs.js","mtime":1635245896600},{"path":"/home/charlero/GIT/GITLAB/opensilex-dev/inrae-sixtine/front/node_modules/thread-loader/dist/cjs.js","mtime":1635245896598},{"path":"/home/charlero/GIT/GITLAB/opensilex-dev/inrae-sixtine/front/node_modules/babel-loader/lib/index.js","mtime":1635246894104},{"path":"/home/charlero/GIT/GITLAB/opensilex-dev/inrae-sixtine/front/node_modules/ts-loader/index.js","mtime":1635245901572},{"path":"/home/charlero/GIT/GITLAB/opensilex-dev/inrae-sixtine/front/node_modules/cache-loader/dist/cjs.js","mtime":1635245896600},{"path":"/home/charlero/GIT/GITLAB/opensilex-dev/inrae-sixtine/front/node_modules/vue-loader/lib/index.js","mtime":1635246896232}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL2hvbWUvY2hhcmxlcm8vR0lUL0dJVExBQi9vcGVuc2lsZXgtZGV2L2lucmFlLXNpeHRpbmUvZnJvbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIi9ob21lL2NoYXJsZXJvL0dJVC9HSVRMQUIvb3BlbnNpbGV4LWRldi9pbnJhZS1zaXh0aW5lL2Zyb250L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjayI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiL2hvbWUvY2hhcmxlcm8vR0lUL0dJVExBQi9vcGVuc2lsZXgtZGV2L2lucmFlLXNpeHRpbmUvZnJvbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKaW1wb3J0IF9pbmhlcml0cyBmcm9tICIvaG9tZS9jaGFybGVyby9HSVQvR0lUTEFCL29wZW5zaWxleC1kZXYvaW5yYWUtc2l4dGluZS9mcm9udC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaW5oZXJpdHMiOwppbXBvcnQgX2NyZWF0ZVN1cGVyIGZyb20gIi9ob21lL2NoYXJsZXJvL0dJVC9HSVRMQUIvb3BlbnNpbGV4LWRldi9pbnJhZS1zaXh0aW5lL2Zyb250L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVTdXBlciI7CmltcG9ydCB7IF9fZGVjb3JhdGUgfSBmcm9tICJ0c2xpYiI7CmltcG9ydCB7IENvbXBvbmVudCwgUmVmIH0gZnJvbSAidnVlLXByb3BlcnR5LWRlY29yYXRvciI7CmltcG9ydCBWdWUgZnJvbSAidnVlIjsKCnZhciBSZXNldFBhc3N3b3JkID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfVnVlKSB7CiAgX2luaGVyaXRzKFJlc2V0UGFzc3dvcmQsIF9WdWUpOwoKICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKFJlc2V0UGFzc3dvcmQpOwoKICBmdW5jdGlvbiBSZXNldFBhc3N3b3JkKCkgewogICAgdmFyIF90aGlzOwoKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSZXNldFBhc3N3b3JkKTsKCiAgICBfdGhpcyA9IF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgX3RoaXMucGFzc3dvcmRUb2tlbiA9IG51bGw7CiAgICBfdGhpcy5wYXNzd29yZCA9IG51bGw7CiAgICBfdGhpcy5jb25maXJtYXRpb24gPSBudWxsOwogICAgX3RoaXMuYmFkVG9rZW4gPSBmYWxzZTsKICAgIHJldHVybiBfdGhpczsKICB9CgogIF9jcmVhdGVDbGFzcyhSZXNldFBhc3N3b3JkLCBbewogICAga2V5OiAidXNlciIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLnVzZXI7CiAgICB9CiAgfSwgewogICAga2V5OiAiY3JlYXRlZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgICAgdGhpcy5zZXJ2aWNlID0gdGhpcy4kb3BlbnNpbGV4LmdldFNlcnZpY2UoIm9wZW5zaWxleC1zZWN1cml0eS5BdXRoZW50aWNhdGlvblNlcnZpY2UiKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJtb3VudGVkIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMucGFzc3dvcmRUb2tlbiA9IGRlY29kZVVSSUNvbXBvbmVudCh0aGlzLiRyb3V0ZXIucGFyYW1zLnVyaSk7CgogICAgICBpZiAodGhpcy5wYXNzd29yZFRva2VuID09IG51bGwgfHwgdGhpcy5wYXNzd29yZFRva2VuID09IHVuZGVmaW5lZCkgewogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgIHBhdGg6ICIvIgogICAgICAgIH0pOwogICAgICB9CgogICAgICBjb25zb2xlLmRlYnVnKCJSZW5ldyB0b2tlbiA6IiArIHRoaXMucGFzc3dvcmRUb2tlbik7IC8vIHRlc3QgaWYgcmVuZXcgdG9rZW4gZXhpc3QKCiAgICAgIHRoaXMuc2VydmljZS5yZW5ld1Bhc3N3b3JkKHRoaXMucGFzc3dvcmRUb2tlbiwgdHJ1ZSwgdGhpcy5wYXNzd29yZCkudGhlbihmdW5jdGlvbiAoaHR0cCkgewogICAgICAgIGNvbnNvbGUuZGVidWcoIlJlbmV3IHRva2VuIGV4aXN0Iik7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZGVidWcoZXJyb3IpOwoKICAgICAgICBpZiAoZXJyb3Iuc3RhdHVzID09IDQwMyB8fCBlcnJvci5zdGF0dXMgPT0gNTAwKSB7CiAgICAgICAgICBjb25zb2xlLmVycm9yKCJJbnZhbGlkIGNyZWRlbnRpYWxzIiwgZXJyb3IpOwoKICAgICAgICAgIF90aGlzMi4kb3BlbnNpbGV4LmVycm9ySGFuZGxlcihlcnJvciwgX3RoaXMyLiR0KCJjb21wb25lbnQubG9naW4uZXJyb3JzLmludmFsaWQtY3JlZGVudGlhbHMiKSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGlmIChlcnJvci5zdGF0dXMgPT0gNDAwKSB7CiAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoZXJyb3IpOwogICAgICAgICAgICBjb25zb2xlLmVycm9yKCJCYWQgdG9rZW4iLCBlcnJvcik7CiAgICAgICAgICAgIF90aGlzMi5iYWRUb2tlbiA9IHRydWU7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfdGhpczIuJG9wZW5zaWxleC5lcnJvckhhbmRsZXIoZXJyb3IpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAib25SZXNldFBhc3N3b3JkIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBvblJlc2V0UGFzc3dvcmQoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdmFyIHZhbGlkYXRvclJlZiA9IHRoaXMudmFsaWRhdG9yUmVmOwogICAgICB2YWxpZGF0b3JSZWYudmFsaWRhdGUoKS50aGVuKGZ1bmN0aW9uIChpc1ZhbGlkKSB7CiAgICAgICAgaWYgKGlzVmFsaWQpIHsKICAgICAgICAgIGlmIChfdGhpczMucGFzc3dvcmRUb2tlbikgewogICAgICAgICAgICBfdGhpczMucmVuZXdQYXNzd29yZCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAicmVuZXdQYXNzd29yZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZXdQYXNzd29yZCgpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICBjb25zb2xlLmxvZyh0aGlzLnBhc3N3b3JkVG9rZW4sIGZhbHNlLCB0aGlzLnBhc3N3b3JkKTsKICAgICAgdGhpcy5zZXJ2aWNlLnJlbmV3UGFzc3dvcmQodGhpcy5wYXNzd29yZFRva2VuLCBmYWxzZSwgdGhpcy5wYXNzd29yZCkudGhlbihmdW5jdGlvbiAoaHR0cCkgewogICAgICAgIF90aGlzNC4kb3BlbnNpbGV4LnNob3dTdWNjZXNzVG9hc3RXaXRoRGVsYXkoX3RoaXM0LiR0KCJSZXNldFBhc3N3b3JkQ29tcG9uZW50LnJlbmV3LXBhc3N3b3JkIiksIDUwMDApOwoKICAgICAgICBfdGhpczQucGFzc3dvcmRUb2tlbiA9IG51bGw7CgogICAgICAgIF90aGlzNC4kcm91dGVyLnB1c2goewogICAgICAgICAgcGF0aDogIi8iCiAgICAgICAgfSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZGVidWcoZXJyb3IpOwoKICAgICAgICBpZiAoZXJyb3Iuc3RhdHVzID09IDQwMCkgewogICAgICAgICAgY29uc29sZS5lcnJvcigiSW52YWxpZCBjcmVkZW50aWFscyIsIGVycm9yKTsKCiAgICAgICAgICBfdGhpczQuJG9wZW5zaWxleC5lcnJvckhhbmRsZXIoZXJyb3IsIF90aGlzNC4kdCgiY29tcG9uZW50LmxvZ2luLmVycm9ycy5pbnZhbGlkLXRva2VuIikpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpczQuJG9wZW5zaWxleC5lcnJvckhhbmRsZXIoZXJyb3IpOwogICAgICAgIH0KCiAgICAgICAgX3RoaXM0LiRvcGVuc2lsZXguaGlkZUxvYWRlcigpOwogICAgICB9KTsKICAgIH0KICB9XSwgW3sKICAgIGtleTogImFzeW5jSW5pdCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2FzeW5jSW5pdCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgkb3BlbnNpbGV4KSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gJG9wZW5zaWxleC5sb2FkU2VydmljZSgib3BlbnNpbGV4LXNlY3VyaXR5LkF1dGhlbnRpY2F0aW9uU2VydmljZSIpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gYXN5bmNJbml0KF94KSB7CiAgICAgICAgcmV0dXJuIF9hc3luY0luaXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGFzeW5jSW5pdDsKICAgIH0oKQogIH1dKTsKCiAgcmV0dXJuIFJlc2V0UGFzc3dvcmQ7Cn0oVnVlKTsKCl9fZGVjb3JhdGUoW1JlZigidmFsaWRhdG9yUmVmIildLCBSZXNldFBhc3N3b3JkLnByb3RvdHlwZSwgInZhbGlkYXRvclJlZiIsIHZvaWQgMCk7CgpSZXNldFBhc3N3b3JkID0gX19kZWNvcmF0ZShbQ29tcG9uZW50XSwgUmVzZXRQYXNzd29yZCk7CmV4cG9ydCBkZWZhdWx0IFJlc2V0UGFzc3dvcmQ7"},{"version":3,"sources":["/home/charlero/GIT/GITLAB/opensilex-dev/inrae-sixtine/front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/charlero/GIT/GITLAB/opensilex-dev/inrae-sixtine/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/charlero/GIT/GITLAB/opensilex-dev/inrae-sixtine/front/src/components/layout/ResetPassword.vue?vue&type=script&lang=ts&"],"names":[],"mappings":";;;;;;;AA8DA,SAAS,SAAT,EAAoB,GAApB,QAA+B,wBAA/B;AACA,OAAO,GAAP,MAAgB,KAAhB;;AAQA,IAAqB,aAArB;AAAA;;AAAA;;AAAA,2BAAA;AAAA;;AAAA;;;AAME,UAAA,aAAA,GAAqB,IAArB;AACA,UAAA,QAAA,GAAmB,IAAnB;AACA,UAAA,YAAA,GAAuB,IAAvB;AACA,UAAA,QAAA,GAAW,KAAX;AATF;AAmGC;;AAnGD;AAAA;AAAA,SAeE,eAAQ;AACN,aAAO,KAAK,MAAL,CAAY,KAAZ,CAAkB,IAAzB;AACD;AAjBH;AAAA;AAAA,WAmBE,mBAAO;AACL,WAAK,OAAL,GAAe,KAAK,UAAL,CAAgB,UAAhB,CACb,0CADa,CAAf;AAGD;AAvBH;AAAA;AAAA,WAyBE,mBAAO;AAAA;;AACL,WAAK,aAAL,GAAqB,kBAAkB,CAAC,KAAK,OAAL,CAAa,MAAb,CAAoB,GAArB,CAAvC;;AACA,UAAI,KAAK,aAAL,IAAsB,IAAtB,IAA8B,KAAK,aAAL,IAAsB,SAAxD,EAAmE;AACjE,aAAK,OAAL,CAAa,IAAb,CAAkB;AAAE,UAAA,IAAI,EAAE;AAAR,SAAlB;AACD;;AACD,MAAA,OAAO,CAAC,KAAR,CAAc,kBAAkB,KAAK,aAArC,EALK,CAML;;AACA,WAAK,OAAL,CACG,aADH,CACiB,KAAK,aADtB,EACqC,IADrC,EAC2C,KAAK,QADhD,EAEG,IAFH,CAEQ,UAAC,IAAD,EAA+C;AACnD,QAAA,OAAO,CAAC,KAAR,CAAc,mBAAd;AACD,OAJH,EAKG,KALH,CAKS,UAAC,KAAD,EAAU;AACf,QAAA,OAAO,CAAC,KAAR,CAAc,KAAd;;AACA,YAAI,KAAK,CAAC,MAAN,IAAgB,GAAhB,IAAuB,KAAK,CAAC,MAAN,IAAgB,GAA3C,EAAgD;AAC9C,UAAA,OAAO,CAAC,KAAR,CAAc,qBAAd,EAAqC,KAArC;;AACA,UAAA,MAAI,CAAC,UAAL,CAAgB,YAAhB,CACE,KADF,EAEE,MAAI,CAAC,EAAL,CAAQ,4CAAR,CAFF;AAID,SAND,MAMO;AACL,cAAI,KAAK,CAAC,MAAN,IAAgB,GAApB,EAAyB;AACvB,YAAA,OAAO,CAAC,KAAR,CAAc,KAAd;AACA,YAAA,OAAO,CAAC,KAAR,CAAc,WAAd,EAA2B,KAA3B;AACA,YAAA,MAAI,CAAC,QAAL,GAAgB,IAAhB;AACD,WAJD,MAIO;AACL,YAAA,MAAI,CAAC,UAAL,CAAgB,YAAhB,CAA6B,KAA7B;AACD;AACF;AACF,OAtBH;AAuBD;AAvDH;AAAA;AAAA,WA6DE,2BAAe;AAAA;;AACb,UAAI,YAAY,GAAQ,KAAK,YAA7B;AACA,MAAA,YAAY,CAAC,QAAb,GAAwB,IAAxB,CAA6B,UAAC,OAAD,EAAY;AACvC,YAAI,OAAJ,EAAa;AACX,cAAI,MAAI,CAAC,aAAT,EAAwB;AACtB,YAAA,MAAI,CAAC,aAAL;AACD;AACF;AACF,OAND;AAOD;AAtEH;AAAA;AAAA,WAwEE,yBAAa;AAAA;;AACX,MAAA,OAAO,CAAC,GAAR,CAAY,KAAK,aAAjB,EAAgC,KAAhC,EAAuC,KAAK,QAA5C;AACA,WAAK,OAAL,CACG,aADH,CACiB,KAAK,aADtB,EACqC,KADrC,EAC4C,KAAK,QADjD,EAEG,IAFH,CAEQ,UAAC,IAAD,EAA+C;AACnD,QAAA,MAAI,CAAC,UAAL,CAAgB,yBAAhB,CACE,MAAI,CAAC,EAAL,CAAQ,uCAAR,CADF,EAEE,IAFF;;AAIA,QAAA,MAAI,CAAC,aAAL,GAAqB,IAArB;;AACA,QAAA,MAAI,CAAC,OAAL,CAAa,IAAb,CAAkB;AAAE,UAAA,IAAI,EAAE;AAAR,SAAlB;AACD,OATH,EAUG,KAVH,CAUS,UAAC,KAAD,EAAU;AACf,QAAA,OAAO,CAAC,KAAR,CAAc,KAAd;;AAEA,YAAI,KAAK,CAAC,MAAN,IAAgB,GAApB,EAAyB;AACvB,UAAA,OAAO,CAAC,KAAR,CAAc,qBAAd,EAAqC,KAArC;;AACA,UAAA,MAAI,CAAC,UAAL,CAAgB,YAAhB,CACE,KADF,EAEE,MAAI,CAAC,EAAL,CAAQ,sCAAR,CAFF;AAID,SAND,MAMO;AACL,UAAA,MAAI,CAAC,UAAL,CAAgB,YAAhB,CAA6B,KAA7B;AACD;;AACD,QAAA,MAAI,CAAC,UAAL,CAAgB,UAAhB;AACD,OAvBH;AAwBD;AAlGH;AAAA;AAAA;AAAA,+EAyDE,iBAAuB,UAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACQ,UAAU,CAAC,WAAX,CAAuB,0CAAvB,CADR;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAzDF;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,EAA2C,GAA3C,CAAA;;AAauB,UAAA,CAAA,CAApB,GAAG,CAAC,cAAD,CAAiB,CAAA,E,uBAAA,E,cAAA,E,KAA4B,CAA5B,CAAA;;AAbF,aAAa,GAAA,UAAA,CAAA,CADjC,SACiC,CAAA,EAAb,aAAa,CAAb;eAAA,a","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Ref } from \"vue-property-decorator\";\nimport Vue from \"vue\";\nimport OpenSilexVuePlugin from \"../../../../../opensilex-front/front/src/models/OpenSilexVuePlugin\";\n// @ts-ignore\nimport { AuthenticationService } from \"opensilex-security/index\";\n// @ts-ignore\nimport HttpResponse, { OpenSilexResponse } from \"opensilex-security/HttpResponse\";\n\n@Component\nexport default class ResetPassword extends Vue {\n  $t: any;\n  $store: any;\n  $router: any;\n  service: AuthenticationService;\n\n  passwordToken: any = null;\n  password: string = null;\n  confirmation: string = null;\n  badToken = false;\n\n  $opensilex: OpenSilexVuePlugin;\n\n  @Ref(\"validatorRef\") readonly validatorRef!: any;\n\n  get user() {\n    return this.$store.state.user;\n  }\n\n  created() {\n    this.service = this.$opensilex.getService(\n      \"opensilex-security.AuthenticationService\"\n    );\n  }\n\n  mounted() {\n    this.passwordToken = decodeURIComponent(this.$router.params.uri);\n    if (this.passwordToken == null || this.passwordToken == undefined) {\n      this.$router.push({ path: \"/\" });\n    }\n    console.debug(\"Renew token :\" + this.passwordToken);\n    // test if renew token exist\n    this.service\n      .renewPassword(this.passwordToken, true, this.password)\n      .then((http: HttpResponse<OpenSilexResponse<any>>) => {\n        console.debug(\"Renew token exist\");\n      })\n      .catch((error) => {\n        console.debug(error);\n        if (error.status == 403 || error.status == 500) {\n          console.error(\"Invalid credentials\", error);\n          this.$opensilex.errorHandler(\n            error,\n            this.$t(\"component.login.errors.invalid-credentials\")\n          );\n        } else {\n          if (error.status == 400) {\n            console.debug(error);\n            console.error(\"Bad token\", error);\n            this.badToken = true;\n          } else {\n            this.$opensilex.errorHandler(error);\n          }\n        }\n      });\n  }\n\n  static async asyncInit($opensilex: OpenSilexVuePlugin) {\n    await $opensilex.loadService(\"opensilex-security.AuthenticationService\");\n  } \n\n  onResetPassword() {\n    let validatorRef: any = this.validatorRef;\n    validatorRef.validate().then((isValid) => {\n      if (isValid) {\n        if (this.passwordToken) {\n          this.renewPassword();\n        }\n      }\n    });\n  }\n\n  renewPassword() {\n    console.log(this.passwordToken, false, this.password);\n    this.service\n      .renewPassword(this.passwordToken, false, this.password)\n      .then((http: HttpResponse<OpenSilexResponse<any>>) => {\n        this.$opensilex.showSuccessToastWithDelay(\n          this.$t(\"ResetPasswordComponent.renew-password\"),\n          5000\n        );\n        this.passwordToken = null;\n        this.$router.push({ path: \"/\" });\n      })\n      .catch((error) => {\n        console.debug(error);\n\n        if (error.status == 400) {\n          console.error(\"Invalid credentials\", error);\n          this.$opensilex.errorHandler(\n            error,\n            this.$t(\"component.login.errors.invalid-token\")\n          );\n        } else {\n          this.$opensilex.errorHandler(error);\n        }\n        this.$opensilex.hideLoader();\n      });\n  }\n}\n"],"sourceRoot":""}]}