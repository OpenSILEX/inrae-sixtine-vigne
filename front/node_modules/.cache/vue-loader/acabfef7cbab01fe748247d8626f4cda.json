{"remainingRequest":"/home/charlero/GIT/GITLAB/opensilex-dev/inrae-sixtine/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/charlero/GIT/GITLAB/opensilex-dev/inrae-sixtine/front/src/components/layout/SixtineHeaderComponent.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/charlero/GIT/GITLAB/opensilex-dev/inrae-sixtine/front/src/components/layout/SixtineHeaderComponent.vue","mtime":1636714207126},{"path":"/home/charlero/GIT/GITLAB/opensilex-dev/inrae-sixtine/front/node_modules/cache-loader/dist/cjs.js","mtime":1635245896600},{"path":"/home/charlero/GIT/GITLAB/opensilex-dev/inrae-sixtine/front/node_modules/thread-loader/dist/cjs.js","mtime":1635245896598},{"path":"/home/charlero/GIT/GITLAB/opensilex-dev/inrae-sixtine/front/node_modules/babel-loader/lib/index.js","mtime":1635246894104},{"path":"/home/charlero/GIT/GITLAB/opensilex-dev/inrae-sixtine/front/node_modules/ts-loader/index.js","mtime":1635245901572},{"path":"/home/charlero/GIT/GITLAB/opensilex-dev/inrae-sixtine/front/node_modules/cache-loader/dist/cjs.js","mtime":1635245896600},{"path":"/home/charlero/GIT/GITLAB/opensilex-dev/inrae-sixtine/front/node_modules/vue-loader/lib/index.js","mtime":1635246896232}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgppbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tICJ2dWUtcHJvcGVydHktZGVjb3JhdG9yIjsKaW1wb3J0IFZ1ZSBmcm9tICJ2dWUiOwppbXBvcnQgeyBVc2VyIH0gZnJvbSAiLi4vLi4vLi4vLi4vLi4vb3BlbnNpbGV4LWZyb250L2Zyb250L3NyYy9tb2RlbHMvVXNlciI7CgpAQ29tcG9uZW50CmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNpeHRpbmVIZWFkZXJDb21wb25lbnQgZXh0ZW5kcyBWdWUgewogICRpMThuOiBhbnk7CiAgJHN0b3JlOiBhbnk7CiAgJG9wZW5zaWxleDogYW55OwoKICAvKioKICAgKiBSZXR1cm4gdGhlIGN1cnJlbnQgY29ubmVjdGVkIHVzZXIKICAgKi8KICBnZXQgdXNlcigpIHsKICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyOwogIH0KCiAgLyoqCiAgICogUmV0dXJuIHRoZSBjdXJyZW50IGkxOG4gbGFuZ3VhZ2UKICAgKi8KICBnZXQgbGFuZ3VhZ2UoKSB7CiAgICByZXR1cm4gdGhpcy4kaTE4bi5sb2NhbGU7CiAgfQoKICAvKioKICAgKiBSZXR1cm4gYWxsIGF2YWlsYWJsZSBsYW5ndWFnZXMKICAgKi8KICBnZXQgbGFuZ3VhZ2VzKCkgewogICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuJGkxOG4ubWVzc2FnZXMpOwogIH0KCiAgLyoqCiAgICogU2V0IHRoZSBjdXJyZW50IGkxOG4gbGFuZ3VhZ2UKICAgKi8KICBzZXRMYW5ndWFnZShsYW5nOiBzdHJpbmcpIHsKICAgIHRoaXMuJGkxOG4ubG9jYWxlID0gbGFuZzsKICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgibGFuZyIsIGxhbmcpOwogIH0KCiAgLyoqCiAgICogTG9nb3V0IHRoZSBjdXJyZW50IGNvbm5lY3RlZCB1c2VyIC0+IGhhdmUgdG8gcmVkaXJlY3RlZCB0byB0aGUgbG9naW4gcGFnZQogICAqLwogIGxvZ291dCgpIHsKICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgibG9nb3V0Iik7CiAgfQoKICB3aWR0aDsKICBjcmVhdGVkKCkgewogICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoInJlc2l6ZSIsIHRoaXMuaGFuZGxlUmVzaXplKTsKICAgIHRoaXMuaGFuZGxlUmVzaXplKCk7CiAgfQoKICBiZWZvcmVEZXN0cm95KCkgewogICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoInJlc2l6ZSIsIHRoaXMuaGFuZGxlUmVzaXplKTsKICB9CgogIGhhbmRsZVJlc2l6ZSgpIHsKICAgIGNvbnN0IG1pblNpemUgPSA3Njg7CiAgICBpZiAoCiAgICAgIGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGggPD0gbWluU2l6ZSAmJgogICAgICAodGhpcy53aWR0aCA9PSBudWxsIHx8IHRoaXMud2lkdGggPiBtaW5TaXplKQogICAgKSB7CiAgICAgIHRoaXMud2lkdGggPSBkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoOwogICAgICB0aGlzLiRzdG9yZS5jb21taXQoImhpZGVNZW51Iik7CiAgICB9IGVsc2UgaWYgKAogICAgICBkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoID4gbWluU2l6ZSAmJgogICAgICAodGhpcy53aWR0aCA9PSBudWxsIHx8IHRoaXMud2lkdGggPD0gbWluU2l6ZSkKICAgICkgewogICAgICB0aGlzLndpZHRoID0gZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aDsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJzaG93TWVudSIpOwogICAgfQogIH0KCn0KCg=="},{"version":3,"sources":["SixtineHeaderComponent.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqDA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"SixtineHeaderComponent.vue","sourceRoot":"src/components/layout","sourcesContent":["<template>\n  <div class=\"header-top\" header-theme=\"light\">\n    <div class=\"app-logo\">\n      <div class=\"header-brand\" to=\"/\">\n        <div class=\"logo-img header-svg-img\">\n          <img v-bind:src=\"$opensilex.getResourceURI('images/sixtine-logo-seul.svg')\" class=\"header-brand-img\" alt=\"logo-svg\"/>\n        </div>\n        <span class=\"text\">SIXTINE</span>\n      </div>\n    </div>\n\n    <div class=\"container-fluid boxed-layout\">\n      <div class=\"d-flex justify-content-end\">\n        <div class=\"top-menu d-flex align-items-center\">\n\n          <opensilex-HelpButton @click=\"$opensilex.getGuideFile()\" label=\"component.header.user-guide\" ></opensilex-HelpButton>\n\n          <b-dropdown id=\"langDropdown\" :title=\"user.getEmail()\" variant=\"link\" right>\n            <template v-slot:button-content>\n              <i class=\"icon ik ik-globe\"></i>\n              <span class=\"hidden-phone\">{{ $t(\"component.header.language.\" + language) }}</span>\n              <span class=\"show-phone\">{{ $t(\"component.header.language.\" + language).substring(0,2) }}</span>\n              <i class=\"ik ik-chevron-down\"></i>\n            </template>\n\n            <b-dropdown-item v-for=\"item in languages\" :key=\"`language-${item}`\" href=\"#\" @click.prevent=\"setLanguage(item)\">\n              {{ $t(\"component.header.language.\" + item) }}\n            </b-dropdown-item>\n          </b-dropdown>\n\n          <b-dropdown v-if=\"user.isLoggedIn()\" id=\"userDropdown\" :title=\"user.getEmail()\" variant=\"link\" right>\n            <template v-slot:button-content>\n              <i class=\"icon ik ik-user\"></i>\n              <span class=\"hidden-phone\">\n                {{ user.getFirstName() }} {{ user.getLastName() }}\n                <strong v-if=\"user.isAdmin()\">\n                  ({{ $t(\"component.header.user.admin\") }})\n                </strong>\n              </span>\n              <i class=\"ik ik-chevron-down\"></i>\n            </template>\n            <b-dropdown-item href=\"#\" @click.prevent=\"logout\">\n              <i class=\"ik ik-log-out dropdown-icon\"></i>\n              {{ $t(\"component.header.user.logout\") }}\n            </b-dropdown-item>\n          </b-dropdown>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { Component } from \"vue-property-decorator\";\nimport Vue from \"vue\";\nimport { User } from \"../../../../../opensilex-front/front/src/models/User\";\n\n@Component\nexport default class SixtineHeaderComponent extends Vue {\n  $i18n: any;\n  $store: any;\n  $opensilex: any;\n\n  /**\n   * Return the current connected user\n   */\n  get user() {\n    return this.$store.state.user;\n  }\n\n  /**\n   * Return the current i18n language\n   */\n  get language() {\n    return this.$i18n.locale;\n  }\n\n  /**\n   * Return all available languages\n   */\n  get languages() {\n    return Object.keys(this.$i18n.messages);\n  }\n\n  /**\n   * Set the current i18n language\n   */\n  setLanguage(lang: string) {\n    this.$i18n.locale = lang;\n    this.$store.commit(\"lang\", lang);\n  }\n\n  /**\n   * Logout the current connected user -> have to redirected to the login page\n   */\n  logout() {\n    this.$store.commit(\"logout\");\n  }\n\n  width;\n  created() {\n    window.addEventListener(\"resize\", this.handleResize);\n    this.handleResize();\n  }\n\n  beforeDestroy() {\n    window.removeEventListener(\"resize\", this.handleResize);\n  }\n\n  handleResize() {\n    const minSize = 768;\n    if (\n      document.body.clientWidth <= minSize &&\n      (this.width == null || this.width > minSize)\n    ) {\n      this.width = document.body.clientWidth;\n      this.$store.commit(\"hideMenu\");\n    } else if (\n      document.body.clientWidth > minSize &&\n      (this.width == null || this.width <= minSize)\n    ) {\n      this.width = document.body.clientWidth;\n      this.$store.commit(\"showMenu\");\n    }\n  }\n\n}\n\n</script>\n\n<style scoped lang=\"scss\">\n.app-logo {\n  text-align: left;\n  position: absolute;\n  width: 180px;\n  top: 0;\n  background-color: rgb(0, 163, 141);\n  padding-top: 6px;\n  padding-bottom: 6px;\n  padding-left: 15px;\n}\n.app-logo > a > img {\n  height: 50px;\n}\n\n.app-title {\n  font-family: \"Eras Light ITC\", Arial, Helvetica, sans-serif;\n  margin-left: 10px;\n  height: 50px;\n  display: inline-block;\n}\n\n.header-brand .text {\n    margin-left: 16px;\n    color: #fff;\n}\n\n.header-svg-img > img{\n  width: 48px;\n  height: 48px;\n}\n\n#menu-container {\n  top: 60px!important;\n}\n</style>\n"]}]}